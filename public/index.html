<!doctype html>
<html>
<head>
    <title>My Imageboard</title>
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
</head>
<body>

    
    
    <div id="main">
        <div class="jumbotron">
             <div class="left">

                 <h1 class="title">My Imageboard</h1>
                 <h2 class="latest-images">latest images</h2>
                </div>
            <img v-on:click='isHidden = !isHidden'  class='add-img' src="./css/add .png" alt="">
        </div>

<!-- /////////////////////////  IMAGE CARD COMPONENT////////////////////////// -->
        <image-card 
        v-if="current_id" 
        :current_id="current_id"
         @close='closeModal' 
         @get="getComments"
         :closable='true'
         ></image-card>
<!-- ///////////////////////////////////////////////////////////////////////// -->

<form>
    <transition name="fade">
    <div v-if="isHidden" >

        <div class="file-form">

            <input v-model='title' type="text" name='title' placeholder='title'>
            <input v-model='description' type="text" name='description' placeholder='description'>
            <input v-model='username' type="text" name='username' placeholder='username'>
        </div>
        <div class="select-submit">
            <input @change='handleChange' type="file" name='file' class="input-file" accept='image/*' >
            <!-- <label for="file"> Select File</label> -->
            <button class="submit-btn" @click='handleClick'>submit</button>
        </div>
    </div>
        </transition>

</form>
<!-- @click='getCurId(item.id)' -->
    <div class="content" >
        <div   class="images-content" v-for='item in images'>
            <a :href=" '#' + item.id" class="img-link">

                
                <img :src=item.url alt="img" :id='item.id' >
                
                <div class="images-title">
                    <p >{{item.title}}</p>
                </div>
            </a>

        </div>
        <div class="btn-parent">
            <p  class="more-msg">no more images</p>
            
        </div>
    </div>

</div>



<!-- ///////////////////////// IMAGE CARD TEMPLATE////////////////////////// -->
<script  id="image-card-template" type="text/x-template" >
    

   
    <div  class="card-container"   >
        <div @click='closeCard'  class="card-overlay">
               
                <div v-on:click.stop  class="image-container">
                    <img  :src=curImg.url alt="img"  class="image-card">
                    <h2>{{curImg.title}}</h2>
                    <p>{{curImg.description}}</p>
                    <p>Uploaded by {{curImg.username}} on {{curImg.created_at}}</p>
                
                    
                    <div class="add-comment-container">
                        <p>add a comment!</p>
                        <form>
                            <input v-model='comment' type="text" id="comment" 
                            placeholder="comment" >>
                            <input v-model='username' type="text" id="username"  placeholder="Username" >
                            <button @click='addComment' class="Submit-comment-btn" >Submit</button>
                        </form>
                    </div>
                    <div class="comments-container">

                        <div  v-for="comment in comments" class='comments'>
                            <div>{{comment.comment_username}}:     {{comment.comment}}</div>
                        </div>
                            
                </div>  
                </div>  
        </div>      
            
    </div>
       
</script>
<!-- ///////////////////////// IMAGE CARD TEMPLATE////////////////////////// -->

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/image-card-component.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
